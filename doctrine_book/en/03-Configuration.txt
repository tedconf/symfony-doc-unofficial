Chapter 3 - Configuration
=========================

Doctrine controls most configuration from the `project/apps/frontend/config/doctrine.yml` which was copied for you with the `$ ./symfony doctrine:enable frontend` command. Below is the sample configuration that comes bundled with Doctrine.

    all:
      # all attributes below are set on the Doctrine_Manager instance
      attributes:
        # export sql (none, tables, constraints, all)
        export:  all

        # enable doctrine side validation (true, false)
        validate: false
    
        # recursive merge functions from different directories/plugins
        recursive_merge_fixtures: true

        # enable quoting
        quote_identifier: false
    
        # enable autoloading of table class
        autoload_table_classes: true

      listeners:        []
      record_listeners: []

    # Configuration for specific connection names 
    #  connections:
    #    doctrine:
    #      attributes:
    #        export: all
    #      listeners:        []
    #      record_listeners: []

## Attributes

Doctrine controls features and settings with attributes. The attributes can be defined at different levels of a hierarchy. Some attributes can be specified at all levels and others cannot. Below explains how you can specify attributes at each level. Attributes can be specified globally, on each connection, or on each individual model.

### Global Attributes

You can specify global attributes by editing `project/apps/frontend/config/doctrine.yml`.

    all:
      attributes:
        use_dql_callbacks: true # Enable DQL callbacks globally

### Connection Attributes

You can specify connection attributes the same way you do global ones in `project/apps/frontend/config/doctrine.yml` with the following YAML.

    all:
      connections:
        doctrine:
          attributes:
            export: tables          # Only export tables when creating database from models
            use_dql_callbacks: true # Enable DQL callbacks on this connection

### Model Attributes

The last level of the hierarchy is for Doctrine models. The attributes can be specified directly in the YAML definition of the model.

    Store:
      connection: client
      attributes:
        export: tables
      columns:
        name: string(255)
        description: string(500)